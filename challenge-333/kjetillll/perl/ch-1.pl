sub f {
    my($x1, $y1) = @{ shift() };
    my($x2, $y2) = @{ shift() };
    my($x3, $y3) = @{ shift() };
    $x1 * ($y2 - $y3) +
    $x2 * ($y3 - $y1) +
    $x3 * ($y1 - $y2)
    ? 0 : !@_ ? 1 : f( [$x2, $y2], [$x3, $y3], @_ )
}

print pop(@$_) == f(@$_) ? "ok\n" : "err\n" for
[ [2, 1], [2, 3], [2, 5]  => 1 ],
[ [1, 4], [3, 4], [10, 4] => 1 ],
[ [0, 0], [1, 1], [2, 3]  => 0 ],
[ [1, 1], [1, 1], [1, 1]  => 1 ],
[ [1000000, 1000000], [2000000, 2000000], [3000000, 3000000] => 1 ],

[ [2, 1], [2, 3], [2, 5], [2, 5e5] => 1 ],
[ (map[300003+4*$_,-77*$_],1..100)  => 1 ],
